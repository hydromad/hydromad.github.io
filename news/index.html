<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • hydromad</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hydromad</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9-27</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/hydromad.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/tutorial.html">Tutorial</a>
    </li>
    <li>
      <a href="../articles/hbv.html">HBV model</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Releases</li>
    <li>
      <a href="http://github.com/josephguillaume/hydromad" class="external-link">hydromad 0.9-27</a>
    </li>
    <li class="divider">
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/josephguillaume/hydromad/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/josephguillaume/hydromad/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-27" id="hydromad-09-27">hydromad 0.9-27<a class="anchor" aria-label="anchor" href="#hydromad-09-27"></a></h2>
<ul><li>Add hbv.sim model</li>
<li>Add KGE to hydromad.stats</li>
<li>Update tutorial to Rmarkdown format</li>
<li>Added contributing guidelines</li>
<li>Removed eventsExplorer(), due to dependency on archived playwith</li>
<li>fix AET values for bucket model <a href="https://github.com/josephguillaume/hydromad/issues/188" class="external-link">#188</a></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-20" id="hydromad-09-20">hydromad 0.9-20<a class="anchor" aria-label="anchor" href="#hydromad-09-20"></a></h2>
<p>Bug fixes: * fixed several problems caused by the change in behaviour of filter() introduced in R 2.13.2. * fixed override of cmd default parameters</p>
<p>Enhancements: * routing looks for default pars in function routing.ranges()</p>
<ul><li><p>improvements to speed of some objective functions and eventapply by avoiding unnecessary zoo operations</p></li>
<li><p>can now be used with opencpu, as key imported functions from other packages are now exported</p></li>
<li><p>objFunVal.runlist accepts function of runlist</p></li>
<li><p>if return_state is specified, state variables from SMA can be used for calibration</p></li>
<li><p>U generated by armax.inverse.fit is now accessible in hydromad object through data$U or fitted(object,U=TRUE)</p></li>
<li><p>updates to Sacramento: allow setting initial state and returning state</p></li>
</ul><p>New features: * parallelised evalPars, update.runlist, objFunVal.runlist</p>
<ul><li><p>added paretoCatchments, paretoTimeAnalysis</p></li>
<li><p>added paretoObjectivesNsga2, paretoObjectivesVaryWeights</p></li>
<li><p>added crossValidate, splitData</p></li>
<li><p>added link to sensitivity package, using new function evalPars</p></li>
<li><p>added leakyExpStore and expuh3s to model disconnection of streamflow from slowflow store</p></li>
<li><p>gr4j parameters can now be transformed to improve identifiability</p></li>
<li><p>added deconvolution of unit hydrograph (deconvolution.uh)</p></li>
<li><p>added code to apply variable event-based time delay to time series (adjVarTd)</p></li>
<li><p>added non-integer time delay estimation</p></li>
<li><p>added fitByCMAES</p></li>
<li><p>added fitByNSGA2</p></li>
<li><p>added rotatedSampling</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-9" id="hydromad-09-9">hydromad 0.9-9<a class="anchor" aria-label="anchor" href="#hydromad-09-9"></a></h2>
<ul><li><p>fixes for gr4j model based on comparison to reference implementation (xls). Contributed by Joseph Guillaume.</p></li>
<li><p>fixed convertFlow() to or from “metres”.</p></li>
<li><p>updated list of objective functions in ?hydromad.stats</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-8" id="hydromad-09-8">hydromad 0.9-8<a class="anchor" aria-label="anchor" href="#hydromad-09-8"></a></h2>
<ul><li><p>renamed ‘hydromad’ vignette to ‘hydromad_paper’ (build problems).</p></li>
<li><p>bug fix for preInterEventDuration().</p></li>
<li><p>updates and docs for feasible set / GLUE stuff.</p></li>
<li><p>make .9/.1 split in gr4j an option.</p></li>
<li><p>remove strict dependency on ‘dream’ package since it is not on CRAN.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-7" id="hydromad-09-7">hydromad 0.9-7<a class="anchor" aria-label="anchor" href="#hydromad-09-7"></a></h2>
<ul><li><p>defineFeasibleSet() works now, along with a new argument ‘glue.quantiles’ which is also now an argument to predict() and update(). The help pages have been updated.</p></li>
<li><p>new vignette(“hydromad”).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-6" id="hydromad-09-6">hydromad 0.9-6<a class="anchor" aria-label="anchor" href="#hydromad-09-6"></a></h2>
<ul><li><p>glue.hydromad() has been revised and renamed to defineFeasibleSet().</p></li>
<li><p>arguments to the function armax.inverse.sim() have changed, such that sma = “armax.inverse” can be used for baseflow filtering. See the help.</p></li>
<li><p>fix bug in simulate(): additional empty values were returned.</p></li>
<li><p>remove functions byDays(), byYears(), bySecs(), tsCleanup(), autocorrTime().</p></li>
<li><p>revised catchment area of Queanbeyan data from 506 to 490 km^2 (from BOM).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-5" id="hydromad-09-5">hydromad 0.9-5<a class="anchor" aria-label="anchor" href="#hydromad-09-5"></a></h2>
<ul><li><p>summary() and runlist() were failing on results from simulate().</p></li>
<li><p>updated to use new version of ‘car’ package.</p></li>
<li><p>fixed bug in predict() with feasible sets.</p></li>
<li><p>xyplot(feasible.bounds = TRUE) now works on log scales too.</p></li>
<li><p>xyplot() now run on hydromad objects which have not been fitted.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-4" id="hydromad-09-4">hydromad 0.9-4<a class="anchor" aria-label="anchor" href="#hydromad-09-4"></a></h2>
<ul><li><p>fixed error in gr4jrouting with x4 = 1.999999999.</p></li>
<li><p>fixed error in glue.hydromad.default.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-3" id="hydromad-09-3">hydromad 0.9-3<a class="anchor" aria-label="anchor" href="#hydromad-09-3"></a></h2>
<ul><li>support for feasible parameter sets: use glue.hydromad() on results from fitBySampling() or fitByDream(); then xyplot/fitted/predict/etc.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-2" id="hydromad-09-2">hydromad 0.9-2<a class="anchor" aria-label="anchor" href="#hydromad-09-2"></a></h2>
<ul><li><p>buildObjectiveFun() renamed to buildTsObjective().</p></li>
<li><p>new function buildTsLikelihood().</p></li>
<li><p>new function event.xyplot() with methods for formula, hydromad and runlist.</p></li>
<li><p>new SMA “intensity”.</p></li>
<li><p>the residuals() method can now transform the data before taking residuals.</p></li>
<li><p>the default hydromad.options(“optim.method”) is now “PORT” (fitByOptim).</p></li>
<li><p>one can now pass ‘Q’ to hmadstat() to pre-evaluate (cache) statistics.</p></li>
<li><p>the ‘item’ argument to observed() has been re-named to ‘select’.</p></li>
<li><p>some fitBy…() functions were failing if the objective returned NA.</p></li>
<li><p>expuh.ls.fit() and expuh.sriv.fit() should now refit non-physical solutions properly.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-1" id="hydromad-09-1">hydromad 0.9-1<a class="anchor" aria-label="anchor" href="#hydromad-09-1"></a></h2>
<ul><li><p>all the fitBy…() methods now maximise rather than minimise.</p></li>
<li><p>nseStat() is the new name for fitStat(); the old name is now deprecated. nseStat() returns “R squared”: 1 - sum((Q-X)<sup>2)/sum((Q-ref)</sup>2)</p></li>
<li><p>the default objective function changed (~ r.sq.sqrt + r.sq.monthly…)</p></li>
<li><p>new model GR4J: functions gr4j.sim() and gr4jrouting.sim().</p></li>
<li><p>simulate() and other functions using parameterSets() were doing too few samples in the method “all.combinations”.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-0" id="hydromad-09-0">hydromad 0.9-0<a class="anchor" aria-label="anchor" href="#hydromad-09-0"></a></h2>
<ul><li><p>NOTE: major changes that will break existing code (see below).</p></li>
<li><p>new function buildObjectiveFun().</p></li>
<li><p>objective functions can now include expressions which will be evaluated once and cached for efficiency by calibration/simulation functions. See ?hydromad.stats</p></li>
<li><p>fitStat() now returns, typically, sum((Q-X)<sup>2)/sum((Q-ref)</sup>2) whereas it used to return 1 - this. So “R squared” is now calculated as ~ 1 - fitStat(Q,X).</p></li>
<li><p>tsFitStat() has been removed as fitStat() now automatically merges time series and its other functionality has been taken over by buildObjectiveFun().</p></li>
<li><p>fitBias() has been removed in favour of hmadstat(“rel.bias”).</p></li>
<li><p>the ‘offset’ argument to fitStat() has been removed; in particular log transformations will not have an automatic offset added unless you use hmadstat(“r.sq.log”).</p></li>
<li><p>hydromad.options(“stats”) has been removed in favour of hydromad.stats().</p></li>
<li><p>eventseq() now takes arguments ‘inthresh’, ‘inx’, ‘indur’, ‘extend’ and ‘continue’. The ‘inter’ argument, which was deprecated, has been removed.</p></li>
<li><p>new function eventsExplorer(), a graphical user interface.</p></li>
<li><p>fitByOptim() now sets control$parscale from the initial parameter values.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8-7" id="hydromad-08-7">hydromad 0.8-7<a class="anchor" aria-label="anchor" href="#hydromad-08-7"></a></h2>
<ul><li><p>the default log-likelihood function (hydromad.options(“loglik”)) changed.</p></li>
<li><p>optimtrace() for Dream results now avoids a problem with objective values. (not an issue with runs generated from dream &gt;= 0.3-2).</p></li>
<li><p>summary.runlist() now passes on further arguments to summary() (or FUN).</p></li>
<li><p>the summary() method for hydromad.runlist now has with.hydrostats = FALSE.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8-6" id="hydromad-08-6">hydromad 0.8-6<a class="anchor" aria-label="anchor" href="#hydromad-08-6"></a></h2>
<ul><li><p>new function optimtrace() to extract history of fitting process.</p></li>
<li><p>the ‘elitism’ option to SCEoptim() now defaults to 1 (linear weights).</p></li>
<li><p>fitByOptim() now handles boundaries differently, perhaps avoiding errors.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8-5" id="hydromad-08-5">hydromad 0.8-5<a class="anchor" aria-label="anchor" href="#hydromad-08-5"></a></h2>
<ul><li><p>statistics are now managed by new functions hydromad.stats() and hmadstat(). The use of hydromad.options(“stats”) is now deprecated.</p></li>
<li><p>statistics and objective functions are now represented as functions rather than formulae. Formulae can still be specified for the ‘objective’ argument, for convenience.</p></li>
<li><p>changed tsFitStat() to calculate ‘ref’ as mean(trans(obs)) rather than trans(mean(obs)), as was always intended. Also fitStat() now removes any NAs introduced by ‘trans’.</p></li>
<li><p>the coef()&lt;- assignment method has been removed.</p></li>
<li><p>new update() method for runlists, which simple uses lapply().</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8-4" id="hydromad-08-4">hydromad 0.8-4<a class="anchor" aria-label="anchor" href="#hydromad-08-4"></a></h2>
<ul><li><p>revised statistics.</p></li>
<li><p>new method “PORT”, based on nlminb(), for fitByOptim().</p></li>
<li><p>changes some default options for SCEoptim() and fitBy*().</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8-3" id="hydromad-08-3">hydromad 0.8-3<a class="anchor" aria-label="anchor" href="#hydromad-08-3"></a></h2>
<ul><li><p>new power and hyperbolic forms of the CMD model, contributed by Jarkko Koskela.</p></li>
<li><p>added hydromad.options(“loglik”), used by fitByDream() and a new logLik() method.</p></li>
<li><p>new function fitByOptim1(), for optimising a single parameter.</p></li>
<li><p>new function fitDbmToPeaks() for use with sma = “dbm”.</p></li>
<li><p>fixed error when using rfit methods with “expuh” routing.</p></li>
<li><p>fixed error when using coef() on a runlist.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8-2" id="hydromad-08-2">hydromad 0.8-2<a class="anchor" aria-label="anchor" href="#hydromad-08-2"></a></h2>
<ul><li><p>new function fitByDream(), using the dream package. NB: this uses a likelihood function, not the objective function.</p></li>
<li><p>the fitting functions now store the result from their respective optimisation functions in the model object as “fit.result”, and fitByOptim and fitBySampling now record the objective over time.</p></li>
<li><p>fitByOptim, fitBySCE, fitByDE all now have a vcov argument, default FALSE, to estimate the parameter variance-covariance matrix.</p></li>
<li><p>xyplot() applied to a hydromad.runlist now recognises the ‘scales’ argument (it was erroneously ignored previously).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8-1" id="hydromad-08-1">hydromad 0.8-1<a class="anchor" aria-label="anchor" href="#hydromad-08-1"></a></h2>
<ul><li><p>fixed the “r.sq.monthly” statistic (it gave an error).</p></li>
<li><p>added new statistics “r.sq.smooth7”, “ar1” and “X0”, and fixed “X1” and “U1” (they threw an error).</p></li>
<li><p>summary() now gives a warning for NaN stats, not an error.</p></li>
<li><p>new function findThresh() and correponding argument ‘n’ to eventseq(), to identify a given number of events.</p></li>
<li><p>arguments to eventseq() and eventapply() have changed.</p></li>
<li><p>estimateDelay() now has a ‘negative.ok’ argument.</p></li>
<li><p>the setting ‘series = 1’ to expuh.sim() now places the “s” component in parallel, rather than the “q” component.</p></li>
<li><p>‘HydroTestData’ now has a (POSIXct) 3 hourly time index.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8-0" id="hydromad-08-0">hydromad 0.8-0<a class="anchor" aria-label="anchor" href="#hydromad-08-0"></a></h2>
<ul><li>the “bucket” SMA now has a C code back-end.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7-3" id="hydromad-07-3">hydromad 0.7-3<a class="anchor" aria-label="anchor" href="#hydromad-07-3"></a></h2>
<ul><li><p>the update() method now has a ‘newpars’ argument, to supply parameter values as a named vector rather than a series of named arguments.</p></li>
<li><p>the summary() method now takes a ‘stats’ argument, and definitions of these are looked up in hydromad.options(“stats”). The default set of stats is given (as a set of names) in hydromad.options(“summary.stats”).</p></li>
<li><p>improved the “tutorial” vignette.</p></li>
<li><p>improved examples for SMA models.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7-2" id="hydromad-07-2">hydromad 0.7-2<a class="anchor" aria-label="anchor" href="#hydromad-07-2"></a></h2>
<ul><li><p>time series data is now stored as ‘zooreg’ rather than ‘ts’, and fitted(), residuals(), predict() will generally return ‘zooreg’. The simulation functions will keep to the format of their input data.</p></li>
<li><p>xyplot() methods for ‘hydromad’ and ‘runlist’ have been rewritten.</p></li>
<li><p>the package now depends on the new version of lattice, and therefore depends on R version 2.11.0 or later.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7-1" id="hydromad-07-1">hydromad 0.7-1<a class="anchor" aria-label="anchor" href="#hydromad-07-1"></a></h2>
<ul><li><p>column names are retained in eventapply, it now has a ‘simplify’ argument, and it just generally works better.</p></li>
<li><p>‘summary’ with the ‘breaks’ argument now returns a zoo object rather than a data.frame, which makes plotting easier.</p></li>
<li><p>fixed bug in print.summary.runlist</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7-0" id="hydromad-07-0">hydromad 0.7-0<a class="anchor" aria-label="anchor" href="#hydromad-07-0"></a></h2>
<ul><li><p>the mass balance term ‘c’ in cwi.sim is now called ‘scale’.</p></li>
<li><p>arbitrary arguments for the model simulation function(s) (i.e. objects which are not to be treated as model parameters) may now be passed to ‘hydromad’.</p></li>
<li><p>new power law routing ‘powuh’.</p></li>
<li><p>new SMA ‘awbm’.</p></li>
<li><p>the ‘summary’ method for ‘runlist’ is now much simpler and does not include parameter values (as the ‘pars’ argument did previously). Instead a ‘coef’ method for ‘runlist’ returns the parameter values.</p></li>
<li><p>‘summaryOrders’ removed, just use ‘summary’.</p></li>
<li><p>fixed another case of hydromad() failing if ‘Q’ was not given in DATA.</p></li>
<li><p>renamed ‘eventAttributes’ to ‘eventinfo’.</p></li>
<li><p>‘width’ parameter for ‘runoffratio’ SMA now defaults to 30.</p></li>
<li><p>more complete help pages and examples.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6-6" id="hydromad-06-6">hydromad 0.6-6<a class="anchor" aria-label="anchor" href="#hydromad-06-6"></a></h2>
<ul><li><p>the CMD and snow models now run C code when return_state = TRUE.</p></li>
<li><p>fixed a bug in simulate() and fitBySampling() for models with only one (or zero) free parameters.</p></li>
<li><p>coef&lt;-() method now has an ‘all’ argument, allowing free parameters to be easily updated inside an optimisation / simulation loop.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6-5" id="hydromad-06-5">hydromad 0.6-5<a class="anchor" aria-label="anchor" href="#hydromad-06-5"></a></h2>
<ul><li>fixed the case where hydromad() failed if ‘Q’ was not given in DATA.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6-4" id="hydromad-06-4">hydromad 0.6-4<a class="anchor" aria-label="anchor" href="#hydromad-06-4"></a></h2>
<ul><li><p>snow.sim now has a C code back-end.</p></li>
<li><p>parameterSets (used by fitBySampling etc) now generates a regular sequence along each parameter range, rather than using quantile().</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6-3" id="hydromad-06-3">hydromad 0.6-3<a class="anchor" aria-label="anchor" href="#hydromad-06-3"></a></h2>
<ul><li><p>new SMA “snow” – as function snow.sim() – from Jarkko Koskela.</p></li>
<li><p>SMA “runoffratio” now has threshold and mass balance parameters.</p></li>
<li><p>class of hydromad objects is now c(“hydromad.<sma>”, “hydromad”).</sma></p></li>
<li><p>the ‘fixed.ar’ argument to armax.sriv.fit now works (and this is used by expuh rfit methods too).</p></li>
<li><p>hydromad.options(“prefilter”) now has 3 hard-coded prefilters. The ‘prefilter’ argument is now allowed to be a prefilter-generating function (function(DATA)).</p></li>
<li><p>more information about fit results is printed.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6-2" id="hydromad-06-2">hydromad 0.6-2<a class="anchor" aria-label="anchor" href="#hydromad-06-2"></a></h2>
<ul><li><p>armax.sriv.fit() now takes an argument fallback (default TRUE), to return the current best result if the matrix cannot be solved.</p></li>
<li><p>predict(return_components = TRUE) didn’t work.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6-1" id="hydromad-06-1">hydromad 0.6-1<a class="anchor" aria-label="anchor" href="#hydromad-06-1"></a></h2>
<ul><li><p>armax.sim() (and therefore predict()) takes return_components argument.</p></li>
<li><p>new simple SMA “runoffratio” - and function runoffratio.sim(). (it scales P by observed flow, so can not be used for prediction).</p></li>
<li><p>coef() can now be assigned to.</p></li>
<li><p>update(model, sma = …) changes the SMA and resets its parameters.</p></li>
<li><p>changed default hydromad.options(“inverse.rel.tolerance”) to 1/1000.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6-0" id="hydromad-06-0">hydromad 0.6-0<a class="anchor" aria-label="anchor" href="#hydromad-06-0"></a></h2>
<ul><li><p>“uh” routing renamed to “armax”.</p></li>
<li><p>new “lambda” routing option.</p></li>
<li><p>better simulation of third order transfer function models.</p></li>
<li><p>unit tests for transfer functions.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5-4" id="hydromad-05-4">hydromad 0.5-4<a class="anchor" aria-label="anchor" href="#hydromad-05-4"></a></h2>
<ul><li><p>event.clusters() renamed to eventseq()</p></li>
<li><p>functions getU() and getP() removed; use fitted(U = TRUE) and observed(item = “P”).</p></li>
</ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Joseph Guillaume.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

