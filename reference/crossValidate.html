<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Cross-validation of hydromad model specification — crossValidate • hydromad</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Cross-validation of hydromad model specification — crossValidate"><meta property="og:description" content="Using a split dataset, estimate parameters using optimisation on data
subsets and evaluate their performance on all other subsets."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hydromad</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9-27</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/hydromad.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/tutorial.html">Tutorial</a>
    </li>
    <li>
      <a href="../articles/hbv.html">HBV model</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Releases</li>
    <li>
      <a href="http://github.com/josephguillaume/hydromad" class="external-link">hydromad 0.9-27</a>
    </li>
    <li class="divider">
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/josephguillaume/hydromad/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cross-validation of hydromad model specification</h1>
    <small class="dont-index">Source: <a href="https://github.com/josephguillaume/hydromad/blob/HEAD/R/crossValidate.R" class="external-link"><code>R/crossValidate.R</code></a></small>
    <div class="hidden name"><code>crossValidate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Using a split dataset, estimate parameters using optimisation on data
subsets and evaluate their performance on all other subsets.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">crossValidate</span><span class="op">(</span>
  <span class="va">MODEL</span>,
  <span class="va">periods</span>,
  name.Model.str <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">MODEL</span><span class="op">$</span><span class="va">sma</span>, <span class="va">MODEL</span><span class="op">$</span><span class="va">routing</span><span class="op">)</span>,
  name.Cal.objfn <span class="op">=</span> <span class="st">"unknown"</span>,
  name.Catchment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">MODEL</span><span class="op">$</span><span class="va">call</span><span class="op">$</span><span class="va">DATA</span><span class="op">)</span>,
  <span class="va">fitBy</span>,
  <span class="va">...</span>,
  trace <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Logic.html" class="external-link">isTRUE</a></span><span class="op">(</span><span class="fu"><a href="hydromad.options.html">hydromad.getOption</a></span><span class="op">(</span><span class="st">"trace"</span><span class="op">)</span><span class="op">)</span>,
  parallel <span class="op">=</span> <span class="fu"><a href="hydromad.options.html">hydromad.getOption</a></span><span class="op">(</span><span class="st">"parallel"</span><span class="op">)</span><span class="op">[[</span><span class="st">"crossValidate"</span><span class="op">]</span><span class="op">]</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>MODEL</dt>
<dd><p>an object of class <code>hydromad</code>.</p></dd>
<dt>periods</dt>
<dd><p>named list of start and end dates, passed to
<code><a href="splitData.html">splitData</a></code></p></dd>
<dt>name.Model.str</dt>
<dd><p>Name to give to this model structure to allow a
combined analysis</p></dd>
<dt>name.Cal.objfn</dt>
<dd><p>Name to give to this model identification process
(e.g. name of objective function and/or optimisation algorithm), to allow a
combined analysis</p></dd>
<dt>name.Catchment</dt>
<dd><p>Name to give to this catchment to allow a combined
analysis</p></dd>
<dt>fitBy</dt>
<dd><p>function to estimate parameters of <code>MODEL</code>, e.g.
<code><a href="fitByOptim.html">fitByOptim</a></code>, <code><a href="fitBySCE.html">fitBySCE</a></code></p></dd>
<dt>...</dt>
<dd><p>Arguments passed to <code>fitBy</code></p></dd>
<dt>trace</dt>
<dd><p>Whether to report messages.</p></dd>
<dt>parallel</dt>
<dd><p>name of method to use for parallelisation ("foreach" or
"none"), or list giving settings for parallelisation. See
<a href="hydromad_parallelisation.html">hydromad_parallelisation</a>.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A runlist of n*n models evaluated in each of n periods with
parameters estimated from each of n periods, of subclass
<code>crossvalidation</code></p>
    </div>
    <div id="parallelisation">
    <h2>Parallelisation</h2>
    <p><code>crossValidate</code> optionally allows the
separate optimisations to be run concurrently with the parallel option
<code>method="foreach"</code>. This is usually only worthwhile for longer running
optimisations such as <code><a href="fitBySCE.html">fitBySCE</a></code> rather than relatively fast
methods such as <code><a href="fitByOptim.html">fitByOptim</a></code>.</p>
<p>The total runtime is limited by the runtime of the slowest of optimisations,
e.g. the longest data subset, most complex objective function response
surface, or slowest computer on which an optimisation is being run. Some of
the workers may therefore be idle (potentially wasting money) even though
others are still running.</p>
<p>The evaluation of parameters on validation data subsets is also optionally
parallelised through the function <code>update.runlist</code>, by setting
<code>hydromad.options(parallel=list(update.runlist="clusterApply"))</code>. The
advantage of this is likely to be minor, unless a large number of cross
validation periods are used, due to the overhead involved and its relative
speed compared to the optimisation. Note that this requires parallelisation
to be setup on the worker, which is where the evaluation occurs.</p>
<p>If the parallelisation backend for <code>foreach</code> supports it, the
cross-validations can be set to occur in the background using
<code>parallel=list(method="foreach",async=TRUE)</code>. In this case, the
function returns immediately and the progress and results can be retrieved
using functions provided by the parallelisation backend. This can be useful
to submit a number of cross-validations for which the results are not
immediately needed. As with a single cross-validation, mixing long and short
running optimisations can make it difficult to fully utilise available
workers.</p>
<p>In future, it may also be possible to parallelise each optimisation itself
in addition to or instead of parallelising the optimisation of each data
period.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="paretoTimeAnalysis.html">paretoTimeAnalysis</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Joseph Guillaume</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Cotter</span><span class="op">)</span></span>
<span class="r-in"><span class="va">modx</span> <span class="op">&lt;-</span> <span class="fu"><a href="hydromad.html">hydromad</a></span><span class="op">(</span><span class="va">Cotter</span>,</span>
<span class="r-in">  sma <span class="op">=</span> <span class="st">"cwi"</span>, routing <span class="op">=</span> <span class="st">"expuh"</span>,</span>
<span class="r-in">  tau_s <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">100</span><span class="op">)</span>, v_s <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="va">periods</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">  P1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1966-05-01"</span>, <span class="st">"1976-04-30"</span><span class="op">)</span><span class="op">)</span>,</span>
<span class="r-in">  P2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1976-05-1"</span>, <span class="st">"1986-04-30"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="co">## Estimate parameters using single fitByOptim run</span></span>
<span class="r-in"><span class="co">## from single initial parameter set</span></span>
<span class="r-in"><span class="va">runs</span> <span class="op">&lt;-</span> <span class="fu">crossValidate</span><span class="op">(</span><span class="va">modx</span>, periods <span class="op">=</span> <span class="va">periods</span>, fitBy <span class="op">=</span> <span class="va">fitByOptim</span>, samples <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">runs</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          timesteps missing   mean.P    mean.Q    runoff      rel.bias r.squared</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P1_calP1      3553       0 2.936248 1.0010380 0.3409242  1.647550e-17 0.7838178</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P2_calP1      3552       0 2.791132 0.7544418 0.2702996  2.220760e-01 0.6733349</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P1_calP2      3553       0 2.936248 1.0010380 0.3409242 -1.916880e-01 0.7043730</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P2_calP2      3552       0 2.791132 0.7544418 0.2702996 -2.930517e-09 0.7614177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          r.sq.sqrt  r.sq.log sim.period calib.period Model.str Cal.objfn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P1_calP1 0.7887613 0.7629356         P1           P1 cwi expuh   unknown</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P2_calP1 0.7552158 0.7761833         P2           P1 cwi expuh   unknown</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P1_calP2 0.7532489 0.7349019         P1           P2 cwi expuh   unknown</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P2_calP2 0.8411148 0.8464667         P2           P2 cwi expuh   unknown</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          Catchment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P1_calP1    Cotter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P2_calP1    Cotter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P1_calP2    Cotter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P2_calP2    Cotter</span>
<span class="r-in"><span class="co">## Cross-validation statistics can then be analysed with other methods</span></span>
<span class="r-in"><span class="fu"><a href="paretoTimeAnalysis.html">paretoTimeAnalysis_areModelsDominated</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">runs</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   calib.period Model.str Cal.objfn Catchment objective        P1        P2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           P1 cwi expuh   unknown    Cotter r.squared 0.7838178 0.6733349</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           P2 cwi expuh   unknown    Cotter r.squared 0.7043730 0.7614177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dominated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     FALSE</span>
<span class="r-in"><span class="fu">cast</span><span class="op">(</span></span>
<span class="r-in">  <span class="fu">melt</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">runs</span><span class="op">)</span>, id.vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"calib.period"</span>, <span class="st">"sim.period"</span><span class="op">)</span><span class="op">)</span>,</span>
<span class="r-in">  <span class="va">calib.period</span> <span class="op">~</span> <span class="va">variable</span> <span class="op">+</span> <span class="va">sim.period</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   calib.period timesteps_P1 timesteps_P2 missing_P1 missing_P2        mean.P_P1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           P1         3553         3552          0          0 2.93624824092316</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           P2         3553         3552          0          0 2.93624824092316</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          mean.P_P2        mean.Q_P1        mean.Q_P2         runoff_P1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2.79113175675676 1.00103801325108 0.75444183767805 0.340924176402861</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2.79113175675676 1.00103801325108 0.75444183767805 0.340924176402861</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           runoff_P2          rel.bias_P1           rel.bias_P2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.270299614431207 1.64755036639954e-17      0.22207598877803</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.270299614431207   -0.191687990812397 -2.93051684043601e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        r.squared_P1      r.squared_P2      r.sq.sqrt_P1      r.sq.sqrt_P2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  0.78381782651507 0.673334854810548 0.788761332725465 0.755215815313714</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.704372971173514 0.761417709020757 0.753248892472808 0.841114791953054</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         r.sq.log_P1       r.sq.log_P2 Model.str_P1 Model.str_P2 Cal.objfn_P1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  0.76293564308086 0.776183292137543    cwi expuh    cwi expuh      unknown</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.734901880638413 0.846466696367463    cwi expuh    cwi expuh      unknown</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Cal.objfn_P2 Catchment_P1 Catchment_P2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      unknown       Cotter       Cotter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      unknown       Cotter       Cotter</span>
<span class="r-in"><span class="fu"><a href="paretoTimeAnalysis.html">paretoTimeAnalysis</a></span><span class="op">(</span><span class="va">runs</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cross-validation Pareto analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Which models cannot be rejected, due to dataset uncertainty/non-stationarity?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Eliminating Pareto-dominated models ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  (worse than another model in all periods)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> How many models are dominated (and therefore eliminated)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cotter.FALSE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Which model structures are non-dominated in each catchment?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Proportion of model instances that are non-dominated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        cwi expuh</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cotter         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Specify show.models=TRUE to show non-dominated and dominated models</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Specify show.models=prefix to obtain csv of whether models are dominated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Performance across all periods ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What is the range of non-dominated performance (RNDP) across all periods?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Is it large - is changing datasets causing problems?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Catchment value.min value.max     RNDP</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Cotter 0.6733349 0.7838178 0.110483</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Performance in each period ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What is the RNDP in each period?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Is it low even though total RNDP is high? Why?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Is there reason to believe the objective function is not comparable over time?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Catchment sim.period value.min value.max       RNDP</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Cotter         P1 0.7043730 0.7838178 0.07944486</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Cotter         P2 0.6733349 0.7614177 0.08808285</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Worst non-dominated models in each period ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Do any non-dominated models have unacceptable performance?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Which non-dominated model has the worst performance in each period? Why?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Is it consistently the same dataset? Is there reason for that dataset to be problematic?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Is it consistently the same model structure? Should another model structure have been selected?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Is it consistently the same calibration objective function? Is it overfitting part of the record?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Cotter </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  sim.period worst.performance calib.period Model.str Cal.objfn        P1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          P1         0.7043730           P2 cwi expuh   unknown 0.7043730</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          P2         0.6733349           P1 cwi expuh   unknown 0.7838178</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         P2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0.7614177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0.6733349</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Variation in inferred internal behaviour - Range of non-dominated parameters ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Is the range of parameters of non-dominated models large for any single model structure?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Does the difference in performance correspond to different internal model behaviour?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Catchment Model.str variable   value.mean    value.min    value.max  range</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Cotter cwi expuh       tw 70.079841318 59.078470550 81.081212085 22.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Cotter cwi expuh        f  2.465770963  2.189511638  2.742030287  0.553</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Cotter cwi expuh    scale  0.001281642  0.001277323  0.001285962  0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Cotter cwi expuh        l  0.000000000  0.000000000  0.000000000  0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Cotter cwi expuh        p  1.000000000  1.000000000  1.000000000  0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Cotter cwi expuh    t_ref 20.000000000 20.000000000 20.000000000  0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Cotter cwi expuh    tau_s 14.818779726 11.550794573 18.086764880  6.536</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Cotter cwi expuh      v_s  0.885253120  0.880118594  0.890387646  0.010</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  range.as.%.of.mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               31.40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               22.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 NaN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               44.11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                1.13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Performance with other statistics ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Use the set of non-dominated models as an ensemble to predict a quantity of interest</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Is the model unacceptable in any period? Is the uncertainty too large?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                variable sim.period       min       max      range</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  q90.in.units.of.runoff         P1 1.8186625 2.2699434 0.45128086</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  q90.in.units.of.runoff         P2 1.8974348 2.3766883 0.47925350</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                r.sq.log         P1 0.7349019 0.7629356 0.02803376</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                r.sq.log         P2 0.7761833 0.8464667 0.07028340</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Joseph Guillaume.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

